<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Draft//EN">
<HTML>
<HEAD>
<TITLE>AfterStep FAQ: Icons, graphics and pixmaps</TITLE>
</HEAD>
<BODY>
<A HREF="afterstep-4.html">Previous</A>
<A HREF="afterstep-6.html">Next</A>
<A HREF="afterstep.html#toc5">Contents</A>
<HR>
<H2><A NAME="s5">5. Icons, graphics and pixmaps</A></H2>

<P>
<H2><A NAME="ss5.1">5.1 Icons staying put</A>
</H2>

<P>In old versions of AfterStep, an icon to be used in Wharf must contain
at least one transparent pixel, otherwise the symptoms you've
mentioned will be prevalent.  Simply add a transparent pixel and
everything should work flawlessly.
<P>Newer versions of AfterStep fix this problem, allowing you to use
icons without transparent pixels in the Wharf without problems. You
should really upgrade to the latest version.
<P>
<H2><A NAME="ss5.2">5.2 Colormap issues</A>
</H2>

<P>
<H3>When I run AfterStep some of the icons on the button bar don't show up.If I load them at the top they show up, but then the other ones don't. Also,when I use netscape, the colors get wacky. What's wrong?</H3>

<P> 
Odds are you are using a 256 color (8bit) display.  A quick explanation is that
you can only have 256 colors on the screen at the same time, and the more
colors you use in Wharf (the button bar), the less you can use for other
applications and icons.  I would suggest upgrading your video hardware or using
more conservative (less colorful) icons.  For netscape, an option is to run it
with the 'netscape -install' command.  This will ensure that netscape gets a
good deal of the color that it wants.  It will, however, also result in the
colors flashing whenever you move the mouse in or out the Netscape window. You
decide whether you can live with that.
<P>One trick, apparently, is to run AfterStep without a Wharf.  That reduces the
number of colors used at any onc time. 
<P>You might want to use low-color icons, as well; you can find a good collection
of low-color icons (all of them together use only 21 colors) at :
<A HREF="http://www.iis.ee.ethz.ch/~kiwi/AfterStep/">http://www.iis.ee.ethz.ch/~kiwi/AfterStep/</A>.
<P>If you are using asclock, you can configure it to use fewer colors.
<P>After version 1.4, AfterStep uses config. files ending with "8bpp" for 8 bit
displays, and low-color icons from icon/8bpp.  Just modify these files to use
less colors.
<P>
<H3>I am having trouble under AS while using xscreensaver with its owncolormap.</H3>

<P>So far, no solution has surfaced to this problem.  It appears that AfterStep
is not handing over control of the display.  There seem to be other related
problems of this nature, all on Suns.  Any additional information would be
appreciated : Gerhard den Hollander <CODE>gerhard@jason.nl</CODE>is working on this
problem.
<P>
<H2><A NAME="ss5.3">5.3 Icons disappear from Wharf. What's wrong?</A>
</H2>

<P>You are most likely running out of colors. Either upgrade your hardware, switch
to a higher color depth (i.e. 16 bpp or higher), or use icons that contain
fewer colors.
<P>
<H2><A NAME="ss5.4">5.4 How do I create an icon with a transparent pixel?</A>
</H2>

<P>  It's beyond easy. An xpm is a simple text file. Therefore, the only image
manipulation software you will need is vi. If you edit your xpm, you will
become aware of the beauty and simplicity. At the bottom you will notice a
character representation of your image. At the top there is a color listing
corresponding to each pixel of the character representation.
<P>You have two options to create a transparent pixel:
<P>
<OL>
<LI>Change an existing pixel color to transparent:

Simply find the pixel character(s) you wish to become
transparent, then go back up top and find that character in the
listing.  Change the color code (number beginning with a #) to
None.  Save, and you're all tootin'.
</LI>
<LI>Create a new transparent pixel: 

Edit the line near the top corresponding to the
height/width/number of colors/chars per pixel.  Increment the
number of colors (third value) by one.  Then in the list of
pixels and color values add the line:

<BLOCKQUOTE><CODE>
<PRE>
               c None
</PRE>
</CODE></BLOCKQUOTE>


Where `c' should be a character that is not being used by any other
color. From there save and take off.</LI>
</OL>
<P>If you're the slightest bit unsure, take a look at one of the xpm files in the
AfterStep distribution's icons directory.
<P>The `correct' size for a Wharf icon is 48x48 pixels. However, if you use bigger
icons, they will display correctly, up to 64x64, which is the default size for
the Wharf buttons.
<P>
<H2><A NAME="ss5.5">5.5 Why doesn't program `xyz' work in 16bpp?</A>
</H2>

<P>A lot of 8bpp programs don't work on displays without a PseudoColor
visual available. A lot of PC X servers don't support PseudoColor
visuals on displays running in TrueColor mode. You should buy an SGI.
Or run two simultaneous X servers, if you're on Linux.
<P>Note for SGI users willing to play with their bpp :
<P>One has to tweak the arguments to X in /usr/lib/X11/xdm/Xservers.
The following worked for Tim Buller <CODE>buller@math.ukans.edu</CODE>
<P>
<BLOCKQUOTE><CODE>
<PRE>
:0 secure /usr/bin/X11/X -bs -c -nobitscale -visid 0x34
</PRE>
</CODE></BLOCKQUOTE>
<P>Where Visual ID 0x34 (reported by xdpyinfo) is:
<P>
<BLOCKQUOTE><CODE>
<PRE>
  visual:    visual id:    0x34
    class:    TrueColor
    depth:    24 planes
    available colormap entries:    256 per subfield
    red, green, blue masks:    0xff, 0xff00, 0xff0000
    significant bits in color specification:    8 bits
</PRE>
</CODE></BLOCKQUOTE>
<P>
<H2><A NAME="ss5.6">5.6 Why doesn't xv do `xyz' in 16bpp? </A>
</H2>

<P>xv doesn't cope well with 16bpp in three ways. First, it can't grab
pieces of the screen. Second, if you grab pieces of the screen with
xwd and try to display them with xv, it doesn't work well. xwud works.
Third, if you display a 24bpp picture, it doesn't bother to dither it
down to 16bpp, resulting in bad pictures.
<P>
<H2><A NAME="ss5.7">5.7 Why don't icon names change when the application changes it?</A>
</H2>

<P>Sorry guy, but icon names change since AfterStep 1.1.  Upgrade.
<P>
<H2><A NAME="ss5.8">5.8 Suddenly, some windows stay always on top. Why?</A>
</H2>

<P>With the default, triple-clicking on a window titlebar
toggles a window's always-on-top state.  Triple-click again to remove
it. If you want to remove this feature, locate the lines in your
feel file that look like this (there are several of them):
<P>
<BLOCKQUOTE><CODE>
<PRE>
               PutOnTop        &quot;TripleClick&quot;
</PRE>
</CODE></BLOCKQUOTE>
<P>and comment them out.
<P>
<H2><A NAME="ss5.9">5.9 Can you add `xyz' to the Wharf?</A>
</H2>

<P>
<P>
<BLOCKQUOTE><CODE>
You know, it would be really nice if the Wharf supported text titles/cascading
menus/tabs on the side/plug-in modules/swallowing running applications in
folders/scrollbars on folders/starting applications only if they're not already
running. Why doesn't someone do it?
</CODE></BLOCKQUOTE>
<P>This is a holy war.  You will be crucified at dawn.  Unless you implement it
yourself and post a patch.
<P>No, seriously, there has been a lot of discussion about these topics.
<P>Many people believED that AfterStep should be kept as close as possible to the
original NEXTSTEP interface, while others thought it should be extended and be
made as configurable as possible.
<P>Now WindowMaker is following the original NEXTSTEP interface, while AfterStep
is going its own way.  Extensive configurability is one of these "own ways".
<P>So please say exactly what you'd like to be implemented; or, even better,
do it yourself and send us a patch.
<P>Three "features" wishes will be grated to each user (just joking).
<P>
<HR>
<A HREF="afterstep-4.html">Previous</A>
<A HREF="afterstep-6.html">Next</A>
<A HREF="afterstep.html#toc5">Contents</A>
</BODY>
</HTML>
